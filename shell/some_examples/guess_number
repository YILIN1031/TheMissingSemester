#!/bin/bash
# Guess a number, range from 0 to 100, random generated by a bash command.

random=$(shuf -i 1-100 -n 1)
#echo "$random"

while true; do

    read -p "Input your guess, from 0 to 100, Enter 'q' to quit: "

    if [[ "$REPLY" =~ ^[0-9]$|^[1-9][0-9]$|^100$ ]]; then
        while [[ "$REPLY" != "$random" ]]; do

            if (( REPLY > random )); then
                echo "Your guess is too big."
            else
                echo "Your guess is too small."
            fi

            read -p "Try again: "

            while [[ ! "$REPLY" =~ ^[0-9]$|^[1-9][0-9]$|^100$ ]]; do
                echo "Input wrong!"
                read -p "Try again: "
            done
            #echo "$REPLY $random"

        done

        echo "You win! The answer is $random! "
        random=$(shuf -i 1-100 -n 1)
        continue

    elif [[ "$REPLY" == 'q' ]]; then
        echo "See you!"
        break

    else
        echo "$REPLY is invalid input, Please input integer from 0 to 100." >&2
        continue
    fi

done










